# Database
- 종류
    * 텍스트 기반 데이터베이스 .csv .tsv .md
        - text기반 파일형
        - 장점: 가볍다, 제작이 쉽다, 검색이 쉽다
        - 단점: 중복제어가 어렵다, 불필요한 데이터가 많아진다.
        - 시스템
            - 계층형 데이터베이스 .md
                - 나열형 .csv
            - 네트워크형 : 파일별 키값 도입으로 네트워크적 트리 구성 .graphql
    * RDBMS(Relational DataBase Management System)
        - 키 기반의 연결형 데이터 베이스
        - 장점: 키 기반으로 불필요한 데이터를 줄일 수 있다. 연결형 데이터로 데이터간 관계 분석
        - 단점: 데이터 비용이 높다. 데이터 복구에 많은 자원 필요
        - 시스템
            - Oracle *
            - MS-SQL
            - MySQL *
            - SQlite *
            - PostGre
            - Sybase
            - Cubrid -네이버
    * NoSQL
        - 검색시장의 발달로 빅데이터 형성에 따른 데이터 가치 감소
        - 데이터 입력 비용이 낮은 데이터 베이스 필요
        - 관계형과 텍스트데이터 베이스의 중간형
        - 키 : 밸류로 이어진 텍스트 기반의 데이터 베이스
        - 장점: 검색이 빠르다, 가볍다
        - 단점: 중복제어가 어렵다, 데이터 보관의 역할 증대
        - 시스템
            - Mongo
            - Couch
            - 빅데이터/분석
                - 하둡, Hbase, Spark
                - Casandra
- 시스템(데이터가 다양한 대기업 기준)
    - 날데이터 RAWDATA
    - 수집 : DataLake 데이터 호수(자바 데이터)
        - RDBMS *
        - NOSQL * 검색을 위한 서브DB 활용
        - text파일(로그*,csv,tsv) *
    - 통합(빅데이터)
        - HADOOP File System(HDFS) -> BigData
        - 파이썬으로 가져오기 어려움 -> PySpark * -> ML
        - Spark(메모리기반 데이터 저장) -> Caffe C ML
    - 검색 쉽게 변형(DW : DataWareHouse 데이터창고) SQL(빅데이터 분석)
        - RedShift => Bigdata 분석
        - python ML/DL

- RDBMS 조건
    - 구조와 제약조건을 만족 : Schema
    - Schema 3계층ㅠㅠ
        - 외부 스키마 : 사용자가 직접 DB를 접속하여 접속된 정보의 데이터 스키마
            - DB 전문가 / 프로그래머 / 분석가
        - 내부 스키마 : 내부적으로 정의된 DB의 구성 제약 MySQL information_schema
            - DB 엔지니어
                - DB 튜닝
        - 개념 스키마 : 사용자 테이블간의 릴레이션된 관계등의 제약조건이 달린 스키마
            - DB 아키텍쳐
                - 보안 : 내외부 접근 허용 및 포트 사용
                - 접근성 : 접근 가능자와 권한
                - 무결성 : 무결성 제약 조건
                    - 삭제 이상 Delete Anormaly
                    - 삽입 이상 insert Anormaly
                    - 갱신 이상 update Anormaly
                - 정규화 작업을 통해 해결
                    - 무결성 이상현상 제거
                    - 데이터 저장공간 줄이기
                    - 자료가 불일치성 줄이기
                    - 구조적 안정화
                    
- 정규화
    - 1NF : 원자화 중복성
        * 중복금지조항 - > 도메인(입력값)은 원자(성질을 유지하되 더 이상 쪼개지지 않는) 값으로 되어있어야 한다.

* 기초테이블

|id|name|subject|
|---|---|---|
|1|홍길동|국어,수학|
|2|박문수|국어|
|3|박문수|국어|

* 원자화 / 중복제거

|id|name|sub1|sub2 |
|---|---|---|---|
|1|홍길동|국어|수학|
|2|박문수|국어||

    - 2NF : 테이블에서의 이상현상
        * 부분함수 종속성 제거

* user -> subject

* user
|id|name|sub1|
|---|---|---|
|1|홍길동|1|
|1|홍길동|2|
|2|박문수|1|

* subject
|id|name|
|---|---|
|1|국어|
|1|수학|

* 2NF처리 user -> ttable -> subject

* user
|id|name|
|---|---|
|1|홍길동|
|2|박문수|

* ttable
|uid|sid|
|---|---|
|1|1|
|1|2|
|2|1|

    - 3NF :이행함수 종속성 해결 x(user)->y(ttable) : 중복이름이 있으면 안됨->z(subject)
        - 반드시 키값에 의해서만 다음 속성을 정의할 수 있다.

* user
|id|name|
|---|---|
|1|홍길동|
|2|박문수|

* ttable
|uid|sid|
|---|---|
|1|1|홍길동|
|1|2|
|2|1|

* subject
|id|name|teacher|
|---|---|---|
|1|국어|김교수|
|2|수학|허교수|
|3|과학|김교수|

    - BCNF 3NF의 강화버전
        - 후보키가 고유해야한다.

*subject : 과목당 교수는 중복해서 가르칠 수 없다라고 했을 경우, 후보키로 교수키가 unique하게 됨

* subject
|id|name|tid:unique|
|---|---|---|
|1|국어|1|
|2|수학|2|
|3|과학|3|

* teacher
|id|name|
|---|---|
|1|김교수|
|2|허교수|
|3|김교수|

* 무결성
    - 개체 무결성
        - 모든 데이터는 기본키를 가져야 하고 기본키는 중복이나 NULL값을 가져서는 안된다.
    - 참조 무결성
        - 참조의 일관성이 있어야 한다. A->B 를 참조하고 있는경우 A가 삭제 되면 B도 같이 삭제되어야한다.
        - AA->B, AB->B 인경우 AA가 삭제됬다고 B를 삭제해서는 안된다. 둘다 삭제되면 안된다.
    - 도메인 무결성
        - 후보키중 unique 한경우 NULL 값이어서는 안된다.
    - 통합 무결성
        - 데이터 통합하였을때 결함이 있으면 안된다.( 모든 제약사항을 지켜야 한다.)